<mat-card class="player_reg">
  <mat-card-title-group>
    <mat-card-subtitle><h1>Player Registration</h1></mat-card-subtitle>
    <!-- <button mat-mini-fab class="edit-button">
      <fa-icon
        [styles]="{ 'stroke': 'white', 'color': 'black' }"
        [fixedWidth]="true"
        [icon]="menu">
      </fa-icon>
    </button> -->
  </mat-card-title-group>
    <mat-card-content>
      <!-- <div *ngIf="LOADING" class="spinner">
          <mat-spinner></mat-spinner>
      </div> -->

      <div class="reg_form">
        <form [formGroup]="playerRegForm" class="player-input">
          <!-- <mat-form-field appearance="fill" class="form-input" >
            <mat-label>Badge ID</mat-label>
            <input
              matInput
              formControlName="conID"
              (keyup)="filterPlayers()"
              [matAutocomplete]="conIDAuto" >
            <mat-icon matSuffix>search</mat-icon>
          <mat-autocomplete #conIDAuto="matAutocomplete"
            autoActiveFirstOption
            (optionSelected)="formComplete($event)"
          >
            <mat-option *ngFor="let option of filterPlayer" [value]="option" >
              {{ option.id + " - " + option.first_name + " " + option.last_name + ( option.barcode.length > 0 ? " - " + option.barcode[0].attendee_id : ' ' ) }}
            </mat-option>
          </mat-autocomplete>
          </mat-form-field> -->

          <mat-form-field appearance="fill" class="form-input">
            <mat-label>First Name</mat-label>
            <input
              matInput
              id='fNameId'
              formControlName="firstName"
              (keyup)="filterPlayers()"
              [matAutocomplete]="fNameAuto"
            >
            <mat-spinner *ngIf="LOADING" matSuffix diameter="25"></mat-spinner>
            <mat-icon *ngIf="!LOADING" matSuffix>search</mat-icon>
          <mat-autocomplete #fNameAuto="matAutocomplete"
            autoActiveFirstOption
            (optionSelected)="formComplete($event)"
          >
            <mat-option *ngFor="let option of filterPlayer" [value]="option">
              {{ option.first_name + " " + option.last_name }}
            </mat-option>
          </mat-autocomplete>
          </mat-form-field>

          <mat-form-field appearance="fill" class="form-input">
            <mat-label>Last Name</mat-label>
            <input
              matInput
              formControlName="lastName"
              (keyup)="filterPlayers()"
              [matAutocomplete]="lNameAuto"
            >
            <mat-spinner *ngIf="LOADING" matSuffix diameter="25"></mat-spinner>
            <mat-icon *ngIf="!LOADING" matSuffix>search</mat-icon>
          <mat-autocomplete #lNameAuto="matAutocomplete"
            autoActiveFirstOption
            (optionSelected)="formComplete($event)"
            (keyup)="filterPlayers()"
          >
            <mat-option *ngFor="let option of filterPlayer" [value]="option">
              {{ option.first_name + " " + option.last_name }}
            </mat-option>
          </mat-autocomplete>
          </mat-form-field>
        </form>
        <form [formGroup]="formBarcode" class="barcode-input">
          <mat-form-field appearance="outline" class="form-barcode">
            <mat-label>Barcode</mat-label>
            <input
              matInput
              (keyup)="validBarcode()"
              formControlName="barcode"
              [matAutocomplete]="formBarcodeAuto"
            >
            <mat-icon matSuffix>
              <fa-icon
                [styles]="barcodeColor"
                [icon]="barcode">
              </fa-icon>
          </mat-icon>
          <mat-autocomplete
            #formBarcodeAuto
            autoActiveFirstOption
            (optionSelected)="formComplete($event)"
          >
            <mat-option *ngFor="let option of filterPlayer" [value]="option" >
              {{ option.first_name + " " + option.last_name }}
            </mat-option>
          </mat-autocomplete>
          </mat-form-field>

          <div class="reg_form">
            <div class="error-msg">
              <span *ngIf="barcodeErr">{{ barcodeErr }}</span>
            </div>
          </div>
        </form>
      </div>

  </mat-card-content>

  <mat-card-actions align="end">
    <button mat-raised-button class="clear-button" (click)="clearForm()">Clear</button>
    <button *ngIf="SUBMIT_DISABLED"
      mat-raised-button
      class="submit-button-disabled"
      [disabled]="SUBMIT_DISABLED"
      (click)="submitMainReg()"
    >Submit
    </button>

    <button *ngIf="!(SUBMIT_DISABLED)"
      mat-raised-button
      class="submit-button"
      [disabled]="SUBMIT_DISABLED"
      (click)="submitMainReg()"
    >Submit
    </button>
  </mat-card-actions>

</mat-card>

<mat-card class="family_reg" *ngIf="FAMILIY_BOOL">
  <mat-card-subtitle><h1>Family Registration</h1></mat-card-subtitle>
</mat-card>
